{% extends "base.html" %}

{% load static %}

{% block title %}Dashboard - JIIT{% endblock title %}

{% block content %}

  <!-- Sidebar -->
  <div class="sidebar">
    <a href="#" id="manageTestimonialsBtn">Manage Testimonials</a>
    <a href="#" id="manageEnrollmentsBtn">Manage Enrollments</a>
    <a href="#" id="changePasswordBtn">Change Password</a>
  </div>

  <!-- Content -->
  <div class="content">
    <div id="dashboardContent">
      <h2>Welcome to the Admin Dashboard</h2>
      <p>Select an option from the sidebar to get started.</p>
    </div>

    <!-- Change Password Form -->
    <div id="changePasswordForm" style="display: none;">
      <h2>Change Password</h2>
      <form method='post' action={% url "change-pwd" %}>
        {% csrf_token %}
        {{ change_form }}
        <button type="submit" class="btn btn-primary">Change Password</button>
      </form>
    </div>

    <!-- Manage Testimonials Section -->
    <div id="manageTestimonials" style="display: none;">
      <h2>Manage Testimonials</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Course</th>
            <th>message</th>
            <th>time</th>
          </tr>
        </thead>
        <tbody id="testimonialsList">
          {% for testify in testimonies %}
          <tr>
            <td>{{ testify.name }}</td>
            <td>{{ testify.email }}/td>
            <td>{{ testify.course }}</td>
            <td>{{ testify.message }}</td>
            <td>{{ testify.time }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan='5'>No Testimonials yet.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- Enrollment List Table -->
    <div id="enrollmentsTable" style="display: none;">
      <h2>Enrollment List</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Course</th>
            <th>Info</th>
            <th>time</th>
          </tr>
        </thead>
        <tbody id="enrollmentList">
          {% for enroll in enrollments %}
          <tr>
            <td>{{ enroll.name }}</td>
            <td>{{ enroll.email }}/td>
            <td>{{ enroll.phone }}</td>
            <td>{{ enroll.course }}</td>
            <td>{{ enroll.info }}</td>
            <td>{{ enroll.time }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan='6'>No enrollments yet.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

{% endblock content %}